<h3 class="fw-500 mb-30">Kurs qo'shish</h3>
<hr class="mb-20">

<form class="mb-40" [formGroup]="courseForm" (ngSubmit)="createCourse()">
   <div class="grid grid-2 gap-20 mb-20">
      <label class="form-label">
         <span>Kursning nomi</span>
         <input class="form-control" type="text" placeholder="Andorid" formControlName="courseName">
      </label>
      <label class="form-label">
         <span>Kursning sahifadagi sarlavhasi</span>
         <input class="form-control" type="text" placeholder="Angliya tajribasi asosisa Android dasturlash"
                formControlName="courseTitle">
      </label>
      <label class="form-label">
         <span>Kursning sahifadagi nimsarlavhasi</span>
         <input class="form-control" type="text" placeholder="Angliya" formControlName="courseSubtitle">
      </label>
      <label class="form-label">
         <span>Kurs haqida izoh</span>
         <input class="form-control" type="text" placeholder="Har qanday oâ€™z mobil dasturlaringizni ishlab chiqing"
                formControlName="courseDescription">
      </label>
      <label class="form-label">
         <span>Nega bu kurs sarlavhasi?</span>
         <input class="form-control" type="text" placeholder="Nega Androidni o'rganishim kerak?"
                formControlName="whyThisCourseTitle">
      </label>
      <label class="form-label">
         <span>Kursning ikonkasi (svg rasm)</span>
         <input class="form-control" type="file" accept=".svg" (change)="onImageSelected($event, 'courseImage')">
      </label>
      <label class="form-label">
         <span>Kursning sahifadagi rasmi</span>
         <input class="form-control" type="file" accept=".jpg, .png, .webp"
                (change)="onImageSelected($event, 'coursePageImage')">
      </label>
   </div>
   <fieldset class="mb-20" formArrayName="courseDetails">
      <legend>Kurs detallari</legend>
      <div class="mb-20" style="display: flex; align-items: flex-end"
           *ngFor="let control of courseForm.controls['courseDetails']['controls']; let i = index">
         <label class="form-label mr-20" style="flex-grow: 1">
            <span>{{ i + 1 }}</span>
            <textarea class="form-control" type="text" formControlName="{{ i }}"></textarea>
         </label>
         <svg (click)="removeControl(i, 'courseDetails')" class="cursor-pointer" width="20" height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM15 11H5V9H15V11Z"
               fill="#ff0000"/>
         </svg>
      </div>
      <button class="button" type="button" (click)="addControl('courseDetails')">
         <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM11 15H9V11H5V9H9V5H11V9H15V11H11V15Z"
               fill="#ffffff"/>
         </svg>
      </button>
   </fieldset>

   <fieldset class="mb-20" formArrayName="whyThisCourse">
      <legend>Bu kursni o'qish uchun sabablar</legend>
      <div class="mb-20" style="display: flex; align-items: flex-end"
           *ngFor="let control of courseForm.controls['whyThisCourse']['controls']; let i = index">
         <label class="form-label mr-20" style="flex-grow: 1">
            <span>{{ i + 1 }}</span>
            <textarea class="form-control" type="text" formControlName="{{ i }}"></textarea>
         </label>
         <svg (click)="removeControl(i, 'courseDetails')" class="cursor-pointer" width="20" height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM15 11H5V9H15V11Z"
               fill="#ff0000"/>
         </svg>
      </div>
      <button class="button" type="button" (click)="addControl('courseDetails')">
         <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM11 15H9V11H5V9H9V5H11V9H15V11H11V15Z"
               fill="#ffffff"/>
         </svg>
      </button>
   </fieldset>

   <fieldset class="mb-20" formArrayName="courseSkills">
      <legend>Kursda o'rgatiladigan narsalar</legend>

      <div class="mb-20" style="display: flex; align-items: flex-end"
           *ngFor="let control of courseForm.controls['courseSkills']['controls']; let i = index">
         <label class="form-label mr-20" style="flex-grow: 1">
            <span>{{ i + 1 }}</span>
            <textarea class="form-control" type="text" formControlName="{{ i }}"></textarea>
         </label>
         <svg (click)="removeControl(i, 'courseSkills')" class="cursor-pointer" width="20" height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM15 11H5V9H15V11Z"
               fill="#ff0000"/>
         </svg>
      </div>

      <button class="button" type="button" (click)="addControl('courseSkills')">
         <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM11 15H9V11H5V9H9V5H11V9H15V11H11V15Z"
               fill="#ffffff"/>
         </svg>
      </button>
   </fieldset>

   <fieldset class="mb-20" formArrayName="listOfTopics">
      <legend>Kursda o'tiladigan mavzular</legend>

      <div class="mb-20" style="display: flex; align-items: flex-end"
           *ngFor="let control of courseForm.controls['listOfTopics']['controls']; let i = index">
         <label class="form-label mr-20" style="flex-grow: 1">
            <span>{{ i + 1 }}</span>
            <textarea class="form-control" type="text" formControlName="{{ i }}"></textarea>
         </label>
         <svg (click)="removeControl(i, 'listOfTopics')" class="cursor-pointer" width="20" height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM15 11H5V9H15V11Z"
               fill="#ff0000"/>
         </svg>
      </div>

      <button class="button" type="button" (click)="addControl('listOfTopics')">
         <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM11 15H9V11H5V9H9V5H11V9H15V11H11V15Z"
               fill="#ffffff"/>
         </svg>
      </button>
   </fieldset>

   <fieldset class="mb-20" formArrayName="listOfTopics">
      <legend>Kursda bajariladigan loyihalar</legend>
      <div class="mb-20" style="display: flex; align-items: flex-end"
           *ngFor="let control of courseForm.controls['courseProjectsList']['controls']; let i = index">
         <label class="form-label mr-20" style="flex-grow: 1">
            <span>{{ i + 1 }}</span>
            <textarea class="form-control" type="text" formControlName="{{ i }}"></textarea>
         </label>
         <svg (click)="removeControl(i, 'courseProjectsList')" class="cursor-pointer" width="20"
              height="20" viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM15 11H5V9H15V11Z"
               fill="#ff0000"/>
         </svg>
      </div>
      <button class="button" type="button" (click)="addControl('courseProjectsList')">
         <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
               d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM2 10.172C2.04732 14.5732 5.64111 18.1095 10.0425 18.086C14.444 18.0622 17.9995 14.4875 17.9995 10.086C17.9995 5.68451 14.444 2.10977 10.0425 2.086C5.64111 2.06246 2.04732 5.59876 2 10V10.172ZM11 15H9V11H5V9H9V5H11V9H15V11H11V15Z"
               fill="#ffffff"/>
         </svg>
      </button>
   </fieldset>

   <div style="padding-top: 32.4px">
      <button class="button button-full" [disabled]="courseForm.invalid">Qo'shish</button>
   </div>
</form>

<hr class="mb-20">
<div style="overflow: auto">
   <table style="min-width: 1500px">
      <thead>
      <tr>
         <th>N</th>
         <th>Kurs nomi</th>
         <th>Kursning sahifadagi sarlavhasi</th>
         <th>Kursning sahifadagi nimsarlavhasi</th>
         <th>Kursning tavsifi</th>
         <th>Nega bu kurs sarlavhasi</th>
         <th>Kurs detallari</th>
         <th>Kursda o'rgatiladiganlar</th>
         <th>Kursda o'tiladigan mavzular</th>
         <th>Kursda bajariladigan loyihalar</th>
         <th>Nega bu kurs sabablari</th>
         <th>Kurs ikonkasi</th>
         <th>Kurs rasmi</th>
         <th>O'chirish</th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngIf="coursesList.length; else noData">
         <tr *ngFor="let course of coursesList; let i = index;">
            <td>{{ i + 1 }}</td>
            <td>{{ course.courseName }}</td>
            <td>{{ course.courseTitle }}</td>
            <td>{{ course.courseSubtitle }}</td>
            <td>{{ course.courseDescription }}</td>
            <td>{{ course.whyThisCourseTitle }}</td>
            <td>
               <ol style="padding-left: 12px;">
                  <li *ngFor="let i of course.courseDetails">
                     {{ i }}
                  </li>
               </ol>
            </td>
            <td>
               <ol style="padding-left: 12px;">
                  <li *ngFor="let i of course.courseSkills">
                     {{ i }}
                  </li>
               </ol>
            </td>
            <td>
               <ol style="padding-left: 12px;">
                  <li *ngFor="let i of course.listOfTopics">
                     {{ i }}
                  </li>
               </ol>
            </td>
            <td>
               <ol style="padding-left: 12px;">
                  <li *ngFor="let i of course.courseProjectsList">
                     {{ i }}
                  </li>
               </ol>
            </td>
            <td>
               <ol style="padding-left: 12px;">
                  <li *ngFor="let i of course.whyThisCourse">
                     {{ i }}
                  </li>
               </ol>
            </td>
            <td><img style="max-width: 40px" src="{{ host + course.courseImage.slice(2) }}" alt=""></td>
            <td><img style="min-width: 300px" src="{{ host + course.coursePageImage.slice(2) }}" alt=""></td>
            <td>
               <svg (click)="deleteCourse(course.id)" class="cursor-pointer" width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                     d="M14 20H4C2.89543 20 2 19.1046 2 18V5H0V3H4V2C4 0.89543 4.89543 0 6 0H12C13.1046 0 14 0.89543 14 2V3H18V5H16V18C16 19.1046 15.1046 20 14 20ZM4 5V18H14V5H4ZM6 2V3H12V2H6ZM12 16H10V7H12V16ZM8 16H6V7H8V16Z"
                     fill="#FE7062"/>
               </svg>
            </td>
         </tr>
      </ng-container>
      <ng-template #noData>
         <tr>
            <td align="center" colspan="14">Ma'lumot topilmadi</td>
         </tr>
      </ng-template>
      </tbody>
   </table>
</div>
